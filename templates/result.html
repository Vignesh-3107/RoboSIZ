<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>RoboSIZ Result</title>
    <meta name="description" content="" />
    <link rel="icon" href="{{ url_for('static',filename='Detectron.png') }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.8.2.js"></script> 
    <style>
      #loader {  
        position: fixed;  
        left: 0px;  
        top: 0px;  
        width: 100%;  
        height: 100%;  
        z-index: 9999;  
        background: url("{{ url_for('static',filename='ObjectBalance.gif') }}") 50% 50% no-repeat rgb(249,249,249);  
    } 
      </style>
      <style>
              .site-footer {
        margin: 0 auto;
        padding: 80px 0 25px;
        padding: 0;
        max-width: 820px;
      }
      .site-footer__fineprint {
        font-size: 0.9375rem;
        line-height: 1.3;
        font-weight: 300;
      }
            @media only screen and (min-width: 40em) {
    
        .site-footer {
          padding: 145px 0 25px;
        }
        .site-footer__fineprint {
          font-size: 1.125rem;
        }
      }
      </style>
      <script type="text/javascript">  
        $(window).load(function() {  
            $("#loader").fadeOut(1000);  
        });
      </script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='index.css') }}" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/f59d92f9d9.js" crossorigin="anonymous"></script>
    <script>
      // const ids = {{idname}};
      const data = JSON.parse({{DataCord|tojson}});
      const list = {{ExeCount}}
      console.log(list)
      console.log(typeof(list))
      // var data = JSON.parse(DataBase);

    </script>
  </head>
  <body class="container">
    <div id="loader"></div> 
    <div class="container-fluid">
      <br /><br />
      <h1 class="h1 col-12 text-left text-info head"><img src="../static/Detectron.png" class="rounded" height="65" width="65" /> &nbsp;ROBOSIZ</h1>
    </div>

    <br />

    <div class="container">
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link disabled" href="#"><i class="fa-solid fa-house disabled" style="color: #0f5ee6"></i> &nbsp; Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#"><i class="fa-solid fa-object-group" style="color: #0f5ee6"></i> &nbsp; Object Detection</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#"><i class="fa-solid fa-rectangle-list" style="color: #0f5ee6"></i> &nbsp; OCR</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#"><i class="fa-solid fa-square-poll-vertical fa-fade" style="color: #0f5ee6"></i> &nbsp; Result</a>
        </li>
      </ul>
    </div>
    <br /><br />

    <div class="container">
      <form name="Location" class="form1" id="LocationDetails">
        <fieldset class="form-group border p-3">
          <br />
          <legend class="w-auto px-2">Location Coordinates</legend>
          <div class="row g-3">
            <div class="input-group col">
              <span class="input-group-text"> X Coordinate : </span>
              <input type="text" class="form-control" placeholder="X" aria-label="X" readonly id="Xcor"  style="font-weight: bold;"/>
            </div>
            <div class="input-group col">
              <span class="input-group-text"> Y Coordinate : </span>
              <input type="text" class="form-control" placeholder="Y" aria-label="Y" readonly id="Ycor"  style="font-weight: bold;"/>
            </div>
            <div class="input-group col">
              <span class="input-group-text"> Z Coordinate : </span>
              <input type="text" class="form-control" placeholder="Z" aria-label="Z" readonly id="Zcor"  style="font-weight: bold;"/>
            </div>
          </div>
          <br />
        </fieldset>
      </form>
        <br />

        <form name="Execution" class="form1" id="ExecutionDetails">
        <fieldset class="form-group border p-3">
          <br />
          <legend class="w-auto px-2">Execution History</legend>
          
           <div class="input-group col">
              <span class="input-group-text"> <i class="fa-solid fa-hourglass-start fa-fade" style="color: #00ff00;"></i> &nbsp; Start Time : </span>
              <input type="text" class="form-control" id="starttime" placeholder=" Start Time" aria-label=" Start Time" readonly/>
            </div><br>
            <div class="input-group col">
              <span class="input-group-text"> <i class="fa-solid fa-hourglass-end fa-beat-fade" style="color: #ff0000;"></i> &nbsp; End Time : </span>
              <input type="text" class="form-control" id="endtime" placeholder=" End Time" aria-label=" End Time" readonly/>
            </div><br>
            <div class="input-group col">
              <span class="input-group-text"> <i class="fa-solid fa-clock-rotate-left fa-fade" style="color: #0000ff;"></i> &nbsp; Execution Time : </span>
              <input type="text" class="form-control" id="ExeTime" placeholder=" Execution Time" aria-label=" Execution Time"  readonly/>
            </div><br>
            <div class="input-group col">
              <span class="input-group-text"> <i class="fa-solid fa-user-tie fa-fade" style="color: #0000ff;"></i> &nbsp; Execution By : </span>
              <input type="text" class="form-control" id="exeby" placeholder=" Execution By" aria-label=" Execution By" readonly />
            </div><br>
            <div class="input-group col">
              <span class="input-group-text"> <i class="fa-regular fa-calendar-check fa-fade" style="color: #0000ff;"></i> &nbsp; Execution Date : </span>
              <input type="text" class="form-control" id="exedate" placeholder=" Execution Date" aria-label=" Execution Date" readonly />
            </div><br>
            <div class="input-group col">
              <span class="input-group-text"> <i class="fa-solid fa-circle-info fa-fade" style="color: #0000ff;"></i> &nbsp; Execution info : </span>
              <textarea class="form-control" placeholder=" Execution info" id="Exeinfo" aria-label=" Execution info"  style="font-weight: bold;" readonly>Execution Done Successfully</textarea>
            </div>
        </fieldset>
        </form>
        </div>
        <br />
        <div class="col-md-8 mx-3">
          <a href="objectdetection"><button type="submit" class="btn btn-primary col-md-4" id="CheckLog" >Check Log Files</button></a>
          <a href="thank" ><button type="button" class="btn btn-danger col-md-4">Exit Detection</button></a>
        </div>
      </form>
    </div>
    <script>
    function addZero(i) {
        if (i < 10) {i = "0" + i}
        return i;
      }
    function time() {
      const d = new Date();
      let h = addZero(d.getHours());
      let m = addZero(d.getMinutes());
      let s = addZero(d.getSeconds());
      let time = h + ":" + m + ":" + s;
      return time;
    }
    function endtime() {
      var timer = localStorage.getItem("Time").split(":");
      const d = new Date();
      let h = addZero(d.getHours());
      let m = addZero(d.getMinutes());
      let s = addZero(d.getSeconds());
      let Time = ((h-timer[0])*60)  + ((m-timer[1])*60)+(s-timer[2])+" Seconds";
      return Time;
    }
    function date() {
      const d = new Date();
      let date = addZero(d.getDate());
      let month = addZero(d.getMonth() + 1);
      let year = addZero(d.getFullYear());
      let today = date + "-" + month + "-" + year;
      return today;
    }
    var Data = JSON.parse(data);
    document.getElementById("Xcor").value = Data["X"];
    document.getElementById("Ycor").value = Data["Y"];
    document.getElementById("Zcor").value = Data["Z"] + ".000";
    var timer = localStorage.getItem("Time");
    var execBy = document.getElementById("exeby");
    var exetime = document.getElementById("ExeTime");
    var exestart = document.getElementById("starttime");
    var exeend = document.getElementById("endtime");
    
    var exeinfo = document.getElementById("Exeinfo");
    var execDate = document.getElementById("exedate");
    execBy.value = `${localStorage.getItem("_Operator")}-EI/${localStorage.getItem("_Name")}-EN`;
    execBy.style.fontWeight="bold";
    execDate.value = `${date()}`;
    execDate.style.fontWeight="bold";
    exeend.value = `${time()}`;
    exeend.style.fontWeight="bold";
    exestart.value = `${timer}`;
    exestart.style.fontWeight="bold";
    exetime.value = `${endtime()}`;
    exetime.style.fontWeight="bold";
    exeinfo.value = `${list[0]} Components and ${list[1]} Texts are processed 
Execution Done Successfully`;
 
    </script>
    <footer class="site-footer" id="footer">
      <p class="site-footer__fineprint text-center" id="fineprint">Copyright &#169;2023 | RoboSIZ All Rights Reserved</p>
    </footer>
  </body>
</html>
